appId: com.kangfenmao.CherryStudio
productName: Cherry Studio
electronLanguages:
  - zh-CN
  - zh-TW
  - en-US
  - ja # macOS/linux/win
  - ru # macOS/linux/win
  - zh_CN # for macOS
  - zh_TW # for macOS
  - en # for macOS
  - de
directories:
  buildResources: build

protocols:
  - name: Cherry Studio
    schemes:
      - cherrystudio
files:
  - "**/*"
  - "!**/{.vscode,.yarn,.yarn-lock,.github,.cursorrules,.prettierrc}"
  - "!electron.vite.config.{js,ts,mjs,cjs}}"
  - "!.*"
  - "!components.json"
  - "!**/{.eslintignore,.eslintrc.js,.eslintrc.json,.eslintcache,root.eslint.config.js,eslint.config.js,.eslintrc.cjs,.prettierignore,.prettierrc.yaml,eslint.config.mjs,dev-app-update.yml,CHANGELOG.md,README.md,biome.jsonc}"
  - "!**/{.env,.env.*,.npmrc,pnpm-lock.yaml}"
  - "!**/{tsconfig.json,tsconfig.tsbuildinfo,tsconfig.node.json,tsconfig.web.json}"
  - "!**/{.editorconfig,.jekyll-metadata}"
  - "!src"
  - "!scripts"
  - "!local"
  - "!docs"
  - "!packages"
  - "!.swc"
  - "!.bin"
  - "!._*"
  - "!*.log"
  - "!stats.html"
  - "!*.md"
  - "!**/*.{iml,o,hprof,orig,pyc,pyo,rbc,swp,csproj,sln,xproj}"
  - "!**/*.{map,ts,tsx,jsx,less,scss,sass,css.d.ts,d.cts,d.mts,md,markdown,yaml,yml}"
  - "!**/{test,tests,__tests__,powered-test,coverage}/**"
  - "!**/{example,examples}/**"
  - "!**/*.{spec,test}.{js,jsx,ts,tsx}"
  - "!**/*.min.*.map"
  - "!**/*.d.ts"
  - "!**/dist/es6/**"
  - "!**/dist/demo/**"
  - "!**/amd/**"
  - "!**/{.DS_Store,Thumbs.db,thumbs.db,__pycache__}"
  - "!**/{LICENSE,license,LICENSE.*,*.LICENSE.txt,NOTICE.txt,README.md,readme.md,CHANGELOG.md}"
  - "!node_modules/rollup-plugin-visualizer"
  - "!node_modules/js-tiktoken"
  - "!node_modules/@tavily/core/node_modules/js-tiktoken"
  - "!node_modules/pdf-parse/lib/pdf.js/{v1.9.426,v1.10.88,v2.0.550}"
  - "!node_modules/mammoth/{mammoth.browser.js,mammoth.browser.min.js}"
  - "!node_modules/selection-hook/prebuilds/**/*" # we rebuild .node, don't use prebuilds
  - "!node_modules/selection-hook/node_modules" # we don't need what in the node_modules dir
  - "!node_modules/selection-hook/src" # we don't need source files
  - "!node_modules/tesseract.js-core/{tesseract-core.js,tesseract-core.wasm,tesseract-core.wasm.js}" # we don't need source files
  - "!node_modules/tesseract.js-core/{tesseract-core-lstm.js,tesseract-core-lstm.wasm,tesseract-core-lstm.wasm.js}" # we don't need source files
  - "!node_modules/tesseract.js-core/{tesseract-core-simd-lstm.js,tesseract-core-simd-lstm.wasm,tesseract-core-simd-lstm.wasm.js}" # we don't need source files
  - "!**/*.{h,iobj,ipdb,tlog,recipe,vcxproj,vcxproj.filters,Makefile,*.Makefile}" # filter .node build files
asarUnpack:
  - resources/**
  - "**/*.{metal,exp,lib}"
  - "node_modules/@img/sharp-libvips-*/**"

# copy from node_modules/claude-code-plugins/plugins to resources/data/claude-code-pluginso
extraResources:
  - from: "./node_modules/claude-code-plugins/plugins/"
    to: "claude-code-plugins"

win:
  executableName: Cherry Studio
  artifactName: ${productName}-${version}-${arch}-setup.${ext}
  target:
    - target: nsis
    - target: portable
  signtoolOptions:
    sign: scripts/win-sign.js
  verifyUpdateCodeSignature: false
nsis:
  artifactName: ${productName}-${version}-${arch}-setup.${ext}
  shortcutName: ${productName}
  uninstallDisplayName: ${productName}
  createDesktopShortcut: always
  allowToChangeInstallationDirectory: true
  oneClick: false
  include: build/nsis-installer.nsh
  buildUniversalInstaller: false
portable:
  artifactName: ${productName}-${version}-${arch}-portable.${ext}
  buildUniversalInstaller: false
mac:
  entitlementsInherit: build/entitlements.mac.plist
  notarize: false
  artifactName: ${productName}-${version}-${arch}.${ext}
  extendInfo:
    - NSCameraUsageDescription: Application requests access to the device's camera.
    - NSMicrophoneUsageDescription: Application requests access to the device's microphone.
    - NSDocumentsFolderUsageDescription: Application requests access to the user's Documents folder.
    - NSDownloadsFolderUsageDescription: Application requests access to the user's Downloads folder.
  target:
    - target: dmg
    - target: zip
linux:
  artifactName: ${productName}-${version}-${arch}.${ext}
  target:
    - target: AppImage
    - target: deb
    - target: rpm
  maintainer: electronjs.org
  category: Utility
  desktop:
    entry:
      StartupWMClass: CherryStudio
  mimeTypes:
    - x-scheme-handler/cherrystudio
rpm:
  # Workaround for electron build issue on rpm package:
  # https://github.com/electron/forge/issues/3594
  fpm: ["--rpm-rpmbuild-define=_build_id_links none"]
publish:
  provider: generic
  url: https://releases.cherry-ai.com
electronDownload:
  mirror: https://npmmirror.com/mirrors/electron/
beforePack: scripts/before-pack.js
afterPack: scripts/after-pack.js
afterSign: scripts/notarize.js
artifactBuildCompleted: scripts/artifact-build-completed.js
releaseInfo:
  releaseNotes: |
    <!--LANG:en-->
    A New Era of Intelligence with Cherry Studio 1.7.0

    Today we're releasing Cherry Studio 1.7.0 â€” our most ambitious update yet, introducing Agent: autonomous AI that thinks, plans, and acts.

    For years, AI assistants have been reactive â€” waiting for your commands, responding to your questions. With Agent, we're changing that. Now, AI can truly work alongside you: understanding complex goals, breaking them into steps, and executing them independently.

    This is what we've been building toward. And it's just the beginning.

    ğŸ¤– Meet Agent
    Imagine having a brilliant colleague who never sleeps. Give Agent a goal â€” write a report, analyze data, refactor code â€” and watch it work. It reasons through problems, breaks them into steps, calls the right tools, and adapts when things change.

    - **Think â†’ Plan â†’ Act**: From goal to execution, fully autonomous
    - **Deep Reasoning**: Multi-turn thinking that solves real problems
    - **Tool Mastery**: File operations, web search, code execution, and more
    - **Skill Plugins**: Extend with custom commands and capabilities
    - **You Stay in Control**: Real-time approval for sensitive actions
    - **Full Visibility**: Every thought, every decision, fully transparent

    ğŸŒ Expanding Ecosystem
    - **New Providers**: HuggingFace, Mistral, CherryIN, AI Gateway, Intel OVMS, Didi MCP
    - **New Models**: Claude 4.5 Haiku, DeepSeek v3.2, GLM-4.6, Doubao, Ling series
    - **MCP Integration**: Alibaba Cloud, ModelScope, Higress, MCP.so, TokenFlux and more

    ğŸ“š Smarter Knowledge Base
    - **OpenMinerU**: Self-hosted document processing
    - **Full-Text Search**: Find anything instantly across your notes
    - **Enhanced Tool Selection**: Smarter configuration for better AI assistance

    ğŸ“ Notes, Reimagined
    - Full-text search with highlighted results
    - AI-powered smart rename
    - Export as image
    - Auto-wrap for tables

    ğŸ–¼ï¸ Image & OCR
    - Intel OVMS painting capabilities
    - Intel OpenVINO NPU-accelerated OCR

    ğŸŒ Now in 10+ Languages
    - Added German support
    - Enhanced internationalization

    âš¡ Faster & More Polished
    - Electron 38 upgrade
    - New MCP management interface
    - Dozens of UI refinements

    â¤ï¸ Fully Open Source
    Commercial restrictions removed. Cherry Studio now follows standard AGPL v3 â€” free for teams of any size.

    The Agent Era is here. We can't wait to see what you'll create.

    <!--LANG:zh-CN-->
    Cherry Studio 1.7.0ï¼šå¼€å¯æ™ºèƒ½æ–°çºªå…ƒ

    ä»Šå¤©ï¼Œæˆ‘ä»¬æ­£å¼å‘å¸ƒ Cherry Studio 1.7.0 â€”â€” è¿„ä»Šæœ€å…·é›„å¿ƒçš„ç‰ˆæœ¬ï¼Œå¸¦æ¥å…¨æ–°çš„ Agentï¼šèƒ½å¤Ÿè‡ªä¸»æ€è€ƒã€è§„åˆ’å’Œè¡ŒåŠ¨çš„ AIã€‚

    å¤šå¹´æ¥ï¼ŒAI åŠ©æ‰‹ä¸€ç›´æ˜¯è¢«åŠ¨çš„â€”â€”ç­‰å¾…ä½ çš„æŒ‡ä»¤ï¼Œå›åº”ä½ çš„é—®é¢˜ã€‚Agent æ”¹å˜äº†è¿™ä¸€åˆ‡ã€‚ç°åœ¨ï¼ŒAI èƒ½å¤ŸçœŸæ­£ä¸ä½ å¹¶è‚©å·¥ä½œï¼šç†è§£å¤æ‚ç›®æ ‡ï¼Œå°†å…¶æ‹†è§£ä¸ºæ­¥éª¤ï¼Œå¹¶ç‹¬ç«‹æ‰§è¡Œã€‚

    è¿™æ˜¯æˆ‘ä»¬ä¸€ç›´åœ¨æ„å»ºçš„æœªæ¥ã€‚è€Œè¿™ï¼Œä»…ä»…æ˜¯å¼€å§‹ã€‚

    ğŸ¤– è®¤è¯† Agent
    æƒ³è±¡ä¸€ä½æ°¸ä¸ç–²å€¦çš„å¾—åŠ›ä¼™ä¼´ã€‚ç»™ Agent ä¸€ä¸ªç›®æ ‡â€”â€”æ’°å†™æŠ¥å‘Šã€åˆ†ææ•°æ®ã€é‡æ„ä»£ç â€”â€”ç„¶åçœ‹å®ƒå·¥ä½œã€‚å®ƒä¼šæ¨ç†é—®é¢˜ã€æ‹†è§£æ­¥éª¤ã€è°ƒç”¨å·¥å…·ï¼Œå¹¶åœ¨æƒ…å†µå˜åŒ–æ—¶çµæ´»åº”å¯¹ã€‚

    - **æ€è€ƒ â†’ è§„åˆ’ â†’ è¡ŒåŠ¨**ï¼šä»ç›®æ ‡åˆ°æ‰§è¡Œï¼Œå…¨ç¨‹è‡ªä¸»
    - **æ·±åº¦æ¨ç†**ï¼šå¤šè½®æ€è€ƒï¼Œè§£å†³çœŸå®é—®é¢˜
    - **å·¥å…·å¤§å¸ˆ**ï¼šæ–‡ä»¶æ“ä½œã€ç½‘ç»œæœç´¢ã€ä»£ç æ‰§è¡Œï¼Œæ ·æ ·ç²¾é€š
    - **æŠ€èƒ½æ’ä»¶**ï¼šè‡ªå®šä¹‰å‘½ä»¤ï¼Œæ— é™æ‰©å±•
    - **ä½ æŒæ§å…¨å±€**ï¼šæ•æ„Ÿæ“ä½œï¼Œå®æ—¶å®¡æ‰¹
    - **å®Œå…¨é€æ˜**ï¼šæ¯ä¸€æ­¥æ€è€ƒï¼Œæ¯ä¸€ä¸ªå†³ç­–ï¼Œæ¸…æ™°å¯è§

    ğŸŒ ç”Ÿæ€æŒç»­å£®å¤§
    - **æ–°å¢æœåŠ¡å•†**ï¼šHugging Faceã€Mistralã€Perplexityã€SophNetã€AI Gatewayã€Cerebras AI
    - **æ–°å¢æ¨¡å‹**ï¼šGemini 3ã€Gemini 3 Proï¼ˆæ”¯æŒå›¾åƒé¢„è§ˆï¼‰ã€GPT-5.1ã€Claude Opus 4.5
    - **MCP é›†æˆ**ï¼šç™¾ç‚¼ã€é­”æ­ã€Higressã€MCP.soã€TokenFlux ç­‰å¹³å°

    ğŸ“š æ›´æ™ºèƒ½çš„çŸ¥è¯†åº“
    - **OpenMinerU**ï¼šæœ¬åœ°è‡ªéƒ¨ç½²æ–‡æ¡£å¤„ç†
    - **å…¨æ–‡æœç´¢**ï¼šç¬”è®°å†…å®¹ä¸€æœå³è¾¾
    - **å¢å¼ºå·¥å…·é€‰æ‹©**ï¼šæ›´æ™ºèƒ½çš„é…ç½®ï¼Œæ›´å¥½çš„ AI ååŠ©

    ğŸ“ ç¬”è®°ï¼Œç„•ç„¶ä¸€æ–°
    - å…¨æ–‡æœç´¢ï¼Œç»“æœé«˜äº®
    - AI æ™ºèƒ½é‡å‘½å
    - å¯¼å‡ºä¸ºå›¾ç‰‡
    - è¡¨æ ¼è‡ªåŠ¨æ¢è¡Œ

    ğŸ–¼ï¸ å›¾åƒä¸ OCR
    - Intel OVMS ç»˜å›¾èƒ½åŠ›
    - Intel OpenVINO NPU åŠ é€Ÿ OCR

    ğŸŒ æ”¯æŒ 10+ ç§è¯­è¨€
    - æ–°å¢å¾·è¯­æ”¯æŒ
    - å…¨é¢å¢å¼ºå›½é™…åŒ–

    âš¡ æ›´å¿«ã€æ›´ç²¾è‡´
    - å‡çº§ Electron 38
    - æ–°çš„ MCP ç®¡ç†ç•Œé¢
    - æ•°åå¤„ UI ç»†èŠ‚æ‰“ç£¨

    â¤ï¸ å®Œå…¨å¼€æº
    å•†ç”¨é™åˆ¶å·²ç§»é™¤ã€‚Cherry Studio ç°éµå¾ªæ ‡å‡† AGPL v3 åè®®â€”â€”ä»»æ„è§„æ¨¡å›¢é˜Ÿå‡å¯è‡ªç”±ä½¿ç”¨ã€‚

    Agent çºªå…ƒå·²è‡³ã€‚æœŸå¾…ä½ çš„åˆ›é€ ã€‚
    <!--LANG:END-->
